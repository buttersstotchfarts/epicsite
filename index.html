<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>i do declare</title>
<style>
    body {
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }

    #fartButton {
        cursor: pointer;
        display: block;
        transform-origin: center center;
        user-select: none;
        will-change: transform;
    }
</style>
</head>
<body>
<img src="button.png" id="fartButton" alt="Fart Button">

<script>
const button = document.getElementById('fartButton');
const audioSrc = 'fart.mp3';

// Jelly physics variables
let sx = 1, sy = 1, r = 0; // scaleX, scaleY, rotation
let dx = 0, dy = 0, dr = 0; // velocities
const spring = 0.02; // very soft spring for slow motion
const damping = 0.92; // moderate damping for smooth decay

function animate() {
    // Apply soft spring physics toward normal (1,1 scale, 0 rotation)
    dx += (1 - sx) * spring;
    dy += (1 - sy) * spring;
    dr += (0 - r) * spring;

    // Update positions
    sx += dx;
    sy += dy;
    r += dr;

    // Apply damping
    dx *= damping;
    dy *= damping;
    dr *= damping;

    // Apply transform
    button.style.transform = `scale(${sx},${sy}) rotate(${r}deg)`;

    requestAnimationFrame(animate);
}
animate();

button.addEventListener('click', (e) => {
    // Play fart sound spammably
    const audio = new Audio(audioSrc);
    audio.play();

    // Get click position relative to button center
    const rect = button.getBoundingClientRect();
    const cx = e.clientX - (rect.left + rect.width / 2);
    const cy = e.clientY - (rect.top + rect.height / 2);
    const maxOffset = Math.max(rect.width, rect.height) / 2;

    // Apply “soft jelly force” depending on click position
    const forceX = (cx / maxOffset) * 0.3; // smaller horizontal stretch
    const forceY = (cy / maxOffset) * 0.3; // smaller vertical stretch
    const forceR = (cx / maxOffset) * 10;  // gentle rotation

    // Add to velocities (multiple clicks accumulate energy)
    dx += forceX;
    dy += -forceY;
    dr += forceR;
});
</script>
</body>
</html>
